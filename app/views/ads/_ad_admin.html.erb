<li id="ad-<%= ad.id %>">
  <div style="display: flex;">

    <div style="margin-right: 10px;"><% if ad.pictures.any?%>
        <%= image_tag ad.pictures.first.mini_pic.url %>
      <% else %>
        <%= image_tag("no_photo.png", alt: "no photo", size: "200x200") %>
      <% end %></div>


    <div style="display: flex; flex-direction: column;">
      <h3 class="content"><%= ad.name %></h3>
      <span class="content"><%= ad.content %></span>
      <span class="timestamp">
    Posted <%= time_ago_in_words(ad.created_at) %> ago
    by <span class="user"><%= link_to ad.user.name, ad.user %></span>
  </span>
      <%= form_for(ad) do |f| %>
        <%=f.text_area :reason, placeholder: "Reason...", id: "reason_to_decline", style:"margin-top: 10px;"%>
        <%= button_tag "Accept", type: "submit",  class: "btn btn-primary", name: "ad[status]", value: :accepted, style: "margin-left: 10px; margin-top: 10px;", :onclick => "clearReason()"%>
        <%= button_tag "Decline", type: "submit",  class: "btn btn-danger", name: "ad[status]", value: :denied, style: "margin-left: 10px; margin-top: 10px;", id: "decline_btn_after_reason"%>
      <% end %>
      <button class="btn btn-danger" style="margin-left: 10px; margin-top: 10px;" id="decline_btn_before_reason">Decline</button>
    </div>
</div>
</li>

<script>
  function clearReason()
  {
      const reason_field = document.getElementById('reason_to_decline');
      reason_field.value = null;
  }

    window.onload = function(){
      const reason_to_decline = document.getElementById('reason_to_decline');
      const decline_btn_before_reason = document.getElementById('decline_btn_before_reason');
      const decline_btn_after_reason = document.getElementById('decline_btn_after_reason');


      reason_to_decline.style.display = 'none';
      decline_btn_after_reason.style.display = 'none';

      decline_btn_before_reason.addEventListener('click', ()=>{
          decline_btn_before_reason.style.display = 'none';
          reason_to_decline.style.display = 'inline-block';
          decline_btn_after_reason.style.display = 'inline-block';
  });}
</script>